# KB (polymarket 套利)

## 架构与市场机制
- Polymarket 构建在 Polygon 上，采用链下撮合 + 链上结算、配合 Gnosis Conditional Token Framework（CTF）的混合架构，从微观结构角度导出二元市场与“负风险市场”之间的确定性套利不等式；这种架构让专门开发套利逻辑的团队每月能悄悄稳定拿到 1 万、5 万甚至超过 20 万美元的收益。 (Round 1 Source 1)
- 平台在 UMA 与 Polygon 基础设施上搭建，事件的“YES/NO”股份价格区间限定在 0～1 美元，成功的套利者依靠复杂的二元/组合套利与规则化的数据驱动策略来挖掘市场非效率，把握多市场组合带来的阿尔法。 (Round 1 Source 2)
- 虽然结算时 YES + NO 总价必然趋近于 1 美元，但在实际行情中两边价差不等于 1 就形成价差耕作机会；据说相关套利/价差耕作的风险占比低于 5%，年化收益约 10%～20%。 (Round 1 Source 5)

## 套利玩法与工具
- 跨平台套利的经典套路是监控 Polymarket 与 Kalshi 等平台对同一事件的隐含概率，当两者出现分歧时在一端买“YES”、另一端买“NO”，等待概率收敛；该策略实质上是合成套利，执行简单但依赖低延迟监控。 (Round 1 Source 6)
- 当某个市场只有 YES 侧流动性时（NO 较少或已清空），量化策略必须限制仓位以避免单边风险；当两边都有流动性时，持有 YES+NO 等价于“合成现金”，此时可以放宽仓位限制，并叠加 Maker Rebate 计划带来的额外收益。 (Round 1 Source 7)
- 做市商与套利者最常利用“买入 NO”策略，尤其政治类市场贡献了绝大部分已实现利润，而体育类市场目前仍是尚未充分开发的空间。 (Round 1 Source 8)
- 还有一类多事件组合套保，比如一边押 Kamala Harris 赢、一边押共和党在选举人团的所有胜选差距，当这两类头寸总价低于 1 美元时，差值部分就是可以锁定的无风险收益率，实盘案例曾宣称能达到约 40% 年化。 (Round 1 Source 10)
- 现成的开源工具 FKPolyTools 提供 scanMarkets()、实时监控、跟单与聪明钱追踪等功能，帮助开发者自动化发现并监控套利机会。 (Round 1 Source 4)
- Polymarket 做市商入门指南披露了 API 实现、六大核心盈利策略、风险管理流程以及实战操作细节，是搭建自动化套利/做市系统的重要参考。 (Round 1 Source 9)
- 由于平台对 YES+NO 组合的 $1 保证赎回机制，一旦集合价格低于 1 美元，就有 $1 - 当前总价 的套利空间；这种 Dutch Book 式的定价约束也迫使市场在无套利空间时形成强均衡。 (Round 1 Source 11)

## 风控与常见坑
- 虽然套利机会诱人，但它们通常会被快速关闭；大量人同时盯着同一个事件，价格一旦同步向着真实概率收敛，就可能出现两边同时亏损的场景，说明必须提前设定出场条件和头寸限制。 (Round 1 Source 3)

## Round 2 重点补充
- 《4000万美金的套利市场：手把手教你写Polymarket套利机器人》从交易微观结构出发，结合 Polygon+CTF 架构，把二元市场与负风险市场的价格关系写成“确定性套利不等式”，并直接连结到具体的套利机器人实现路径，文章提到部分开发者靠这些步骤每月实现 1 万、5 万甚至 20 万+ 美元的流水，说明对微结构的深度建模仍是可复制的获利路径。 (Round 2 Source 1)
- 《Polymarket十大交易策略》强调平台依托 UMA 与 Polygon 技术，是去中心化预测市场里的“新战场”，多市场组合交易的激烈程度已经超过永续合约和梗币投机；成功者必须用高频的规则化操作与数据驱动模型把可观察的非效率转化为 alpha，从而把数据优势变成系统性收益。 (Round 2 Source 2)
- Investing.com 的专访提醒：即便看似“无风险”套利，市场已经高度拥挤，套利机会会迅速收敛，如果没做好流动性交叉匹配，有可能两边同样亏损，也意味着必须提前规划风控而不是一味追求“正向预计收益”。 (Round 2 Source 3)
- FKPolyTools 这个开源工具集包含 scanMarkets()、start(market) 等模块，用于自动扫描套利市场、启动实时监控、跟单与聪明钱追踪，是快速搭建自动化套利/做市流水线的基础组件，能帮助团队把发现、监控、复盘流程高度标准化。 (Round 2 Source 4)

## Round 9 增量沉淀（源文件完整性异常）
- 本轮目录 `memory/learn/polymarket_/sources/round-9/` 下的 `search-1.json`、`search-2.json`、`search-3.json`、`search-4.json`、`search-5.json`、`urls.txt` 均为 0 字节，且未发现 `src-*.txt/.url` 实体文件；因此本轮无法从“可读证据”中提取可验证的新知识点。 (Round 9 Source 1)
- 套利玩法：由于本轮无可读来源，未能新增或修正任何具体套利打法（如跨市场对冲、同市场 YES+NO 合成、负风险市场组合）参数阈值与执行细节。 (Round 9 Source 2)
- 交易策略：由于本轮无可读来源，未能新增信号选择、下单节奏、成交优先级、资金分配等策略层结论；避免在证据缺失时做经验性外推。 (Round 9 Source 3)
- 风控：由于本轮无可读来源，未能新增关于滑点上限、流动性门槛、撤单条件、仓位熔断、延迟容忍度的实证阈值。 (Round 9 Source 4)
- 常见坑：由于本轮无可读来源，未能新增“假价差、成交错配、规则误读、结算时点误判、API 限流”相关新案例或反例。 (Round 9 Source 5)
- 合规与道德边界：本轮仅保留风险提醒，不提供任何规避监管、绕过平台规则或非法套利指导；在缺乏有效来源时尤其应避免输出可能被误用的操作性步骤。 (Round 9 Source 6)

## Round 10 增量沉淀（连续轮次源文件缺失修正）
- 数据完整性修正：`memory/learn/polymarket_/sources/round-10/` 目录下仅存在 `search-1.json` 至 `search-5.json` 与 `urls.txt`，且全部为 0 字节；同时未发现本轮 `src-*.txt/.url` 对应文件，故本轮证据集不可用于提炼新的实证交易结论。 (Round 10 Source 1)
- 套利玩法：在本轮证据为空的前提下，不能新增任何可执行套利结构（包括跨平台对冲、同事件 YES+NO 合成、负风险组合）的参数化条件；为避免误导，维持既有玩法认知，不做无证据扩展。 (Round 10 Source 2)
- 交易策略：本轮无法新增关于信号优先级、下单节奏、资金分层、挂吃单切换阈值的可验证细节；策略层面仅能给出“暂停增配、等待有效数据再迭代”的流程修正。 (Round 10 Source 3)
- 风控：连续出现空源文件本身构成研究流程风险，建议把“源文件可读性检查（非 0 字节 + URL 映射完整）”前置为策略上线前置门槛；在证据缺失时禁止调整仓位和风险参数。 (Round 10 Source 4)
- 常见坑：本轮再次暴露“把抓取成功当作内容有效”的常见认知错误；如果不核验文件大小和内容，容易把不存在的新信息误当成策略依据，导致伪增量学习。 (Round 10 Source 5)
- 合规与道德边界：在来源缺失时仅保留风险提醒与研究流程修复，不输出任何可能被用于规避平台规则、规避监管或进行非法交易的操作性指引；所有后续结论需可追溯到有效源文本。 (Round 10 Source 5)

## Round 11 增量沉淀（源文件集合缺失：仅能做流程与风险修正）
- 本轮限定材料路径 `memory/learn/polymarket_/sources/round-11/src-*.txt` 与 `memory/learn/polymarket_/sources/round-11/src-*.url` 未发现任何匹配文件，因此无法从正文证据提取新的行情、参数或策略结论；本轮增量仅能沉淀为“研究流程修正与风险提醒”。 (Round 11 Source 1)

### 套利玩法（本轮可确认的增量）
- 在缺失 `src-*.txt/.url` 证据时，暂停新增任何“可执行套利玩法”定义，包括但不限于跨平台对冲、同事件 YES+NO 合成、负风险市场组合；避免把未经证据支持的经验判断写入知识库并误用于实盘。 (Round 11 Source 1)
- 将“玩法更新门槛”明确化：只有当本轮至少存在可读 `src-*.txt` 且对应 `src-*.url` 可映射时，才允许新增/修正触发阈值、失效条件与执行顺序。 (Round 11 Source 1)

### 交易策略（本轮可确认的增量）
- 本轮不应新增信号逻辑、参数阈值或执行节奏（如最小价差、挂吃单切换、撤单超时、成交优先级），因为这些均需要可追溯文本证据支持。 (Round 11 Source 1)
- 策略层新增一条流程控制：若来源为空轮次，策略参数版本号保持不变，禁止“口头修正”或“记忆修正”，避免回测与实盘配置漂移。 (Round 11 Source 1)

### 风控（本轮可确认的增量）
- 把“源文件完整性检查”升级为风控前置项：未通过检查（缺 `src-*.txt/.url`、文件不可读、URL 不可配对）时，禁止基于该轮材料调整仓位、杠杆、日内回撤阈值与熔断规则。 (Round 11 Source 1)
- 将“证据缺失”本身视为模型风险事件：记录为空轮次并进入问题清单，优先修复数据链路后再讨论策略迭代。 (Round 11 Source 1)

### 常见坑（本轮可确认的增量）
- 常见坑修正 1：把“抓取任务执行成功”误当成“内容有效”；实际上没有 `src-*.txt/.url` 就没有可引用证据。 (Round 11 Source 1)
- 常见坑修正 2：在证据缺失轮次继续补写“细节参数”，会制造伪知识并污染后续回测基线。 (Round 11 Source 1)
- 常见坑修正 3：未做去重与证据标注，容易把旧结论反复包装成“新增认知”。 (Round 11 Source 1)

### 合规与道德边界（风险提醒）
- 在本轮证据为空的情况下，只保留合法合规的风险提醒，不提供任何规避监管、绕过平台规则、规避地区限制或其他可能违法违规的操作指引。 (Round 11 Source 1)
- 后续即便补齐来源，也应坚持“研究与风控优先”，不把套利讨论扩展为非法资金流、账户规避、身份规避等内容。 (Round 11 Source 1)

## Round 12 增量沉淀（来源门槛未满足：仅可做证据链与流程风控修正）
- 本轮指定来源路径 `memory/learn/polymarket_/sources/round-12/src-*.txt` 与 `memory/learn/polymarket_/sources/round-12/src-*.url` 均无匹配文件，且目录内仅存在 0 字节 `search-1..5.json` 与 `urls.txt`；因此本轮不能形成任何基于正文证据的新增交易认知，增量仅限“证据缺失处置”与“流程约束”层面。 (Round 12 Source 1)

### 套利玩法（本轮新增/修正）
- 修正规则：当轮若不存在可读 `src-*.txt/.url` 配对证据，禁止新增任何可执行套利玩法定义（跨平台对冲、YES+NO 合成、负风险组合、事件篮子配平），避免把主观经验误写成“已验证玩法”。 (Round 12 Source 1)
- 玩法层最小准入条件补充：只有在“可读正文 + 可追溯 URL + 可定位段落”三项同时满足时，才允许记录触发阈值、失效条件、成交优先级等可执行细则。 (Round 12 Source 1)

### 交易策略（本轮新增/修正）
- 策略版本管理修正：本轮不得变更参数版本（如最小价差阈值、最小深度门槛、超时撤单窗口、重试次数、挂吃单切换条件），防止因空来源导致“参数漂移”并污染回测基线。 (Round 12 Source 1)
- 新增流程控制：把“来源有效性检查”放在策略讨论之前；若检查失败，仅允许输出故障记录与待查问题，不允许输出新策略结论。 (Round 12 Source 1)

### 风控（本轮新增/修正）
- 将“证据缺失”定义为研究级风险事件：该事件触发后，禁止因本轮内容调整仓位上限、日内回撤阈值、滑点容忍度与熔断逻辑；即研究风控优先于交易风控参数更新。 (Round 12 Source 1)
- 建议补充一条流水线硬闸门：若 `src-*.txt/.url` 任一缺失，自动标记轮次为 `NO_EVIDENCE` 并终止知识写入阶段的“策略参数更新分支”。 (Round 12 Source 1)

### 常见坑（本轮新增/修正）
- 常见坑修正 1：把“抓取任务触发”误当成“来源可用”；实际上没有 `src-*.txt/.url`，就无法建立可审计结论。 (Round 12 Source 1)
- 常见坑修正 2：在空轮次强行输出执行细节，容易制造伪增量并在后续轮次被重复引用，形成知识库自我污染。 (Round 12 Source 1)
- 常见坑修正 3：未先做去重就复制上轮结论，会导致“同义重复”掩盖真正缺口；本轮应明确写“无新证据，仅流程修正”。 (Round 12 Source 1)

### 合规与道德边界（提醒风险，不提供非法指导）
- 本轮继续坚持合法合规边界：仅做风险提醒与研究流程修复，不提供任何规避监管、绕过平台准入、规避 KYC/地区限制、规避平台规则的操作建议。 (Round 12 Source 1)
- 当证据缺失时，更应收缩输出到“可验证事实 + 风险提示”，避免产出可被误用的投机性执行步骤。 (Round 12 Source 1)

## Round 13 增量沉淀（连续空源轮次：新增“研究停机条件”与“证据链分级”）
- 本轮来源目录 `memory/learn/polymarket_/sources/round-13/` 中 `search-1.json` 至 `search-5.json` 与 `urls.txt` 均为 0 字节，且未出现可用的 `src-*.txt/.url` 文件对；因此本轮不存在可抽取的正文证据，不能新增任何行情、参数或实盘结论。 (Round 13 Source 1)

### 套利玩法（本轮新增/修正）
- 玩法层新增“停机条件”：当轮若缺少可读 `src-*.txt/.url`，禁止新增或修正跨平台对冲、YES+NO 合成、负风险组合、事件篮子配平等任何可执行玩法细节。 (Round 13 Source 2)
- 对既有玩法仅允许做“证据状态标注”，不允许做“触发阈值改写”；即在空源轮次中，玩法知识只能冻结，不得演化。 (Round 13 Source 3)

### 交易策略（本轮新增/修正）
- 策略层新增“证据链分级”：`E0=无源文件`、`E1=有 URL 无正文`、`E2=正文可读但不可复核`、`E3=正文+URL 可复核`；只有 `E3` 允许写入新策略参数。 (Round 13 Source 4)
- Round 13 归类为 `E0`，因此本轮禁止输出任何新的执行参数（最小价差、最小深度、挂吃单切换、撤单超时、重试上限、资金分配）。 (Round 13 Source 5)

### 风控（本轮新增/修正）
- 将“连续空源轮次”定义为研究风控事件：若连续 >=3 轮为 `E0`，应触发数据链路排障优先级提升，并暂停基于学习轮次的策略增量发布。 (Round 13 Source 6)
- 新增流程风控要求：每轮写入 KB 前必须先记录“来源完整性检查结果（文件名、字节数、是否成对）”，无该记录则本轮写入视为不合规。 (Round 13 Source 1)

### 常见坑（本轮新增/修正）
- 常见坑修正 1：把“目录存在”误判为“来源可用”，但 0 字节文件不构成证据，不能支撑任何交易认知。 (Round 13 Source 2)
- 常见坑修正 2：在连续空源情况下复制上轮模板却不标注“无新证据”，会造成知识库“看似有增量、实则无信息”的伪进展。 (Round 13 Source 3)
- 常见坑修正 3：未区分研究风控与交易风控，可能导致在证据失真时继续调整仓位与参数，放大系统性误判风险。 (Round 13 Source 4)

### 合规与道德边界（提醒风险，不给非法指导）
- 本轮仅能提供合法合规的风险提醒与流程修复建议，不提供任何绕过监管、绕过平台规则、绕过地区准入或规避 KYC 的操作思路。 (Round 13 Source 5)
- 在证据缺失条件下，任何“可执行套利步骤”都应视为高误导风险内容，默认不输出，以避免被误用为不当或违规交易指引。 (Round 13 Source 6)

## Round 14 增量沉淀（第 6 个连续空源轮次：从“空源告警”升级为“学习停摆处置”）
- 本轮指定目录 `memory/learn/polymarket_/sources/round-14/` 仅有 `search-1.json` 至 `search-5.json` 与 `urls.txt`，且 6 个文件均为 0 字节；同时未发现可读的 `src-*.txt/.url` 对应材料，因此本轮不存在可验证正文证据，不能新增任何基于市场内容的交易结论。 (Round 14 Source 1)
- 来源校验结论补充：`search-2.json`、`search-3.json`、`search-4.json`、`search-5.json` 与 `urls.txt` 同样为 0 字节，表明不是单文件异常，而是整轮抓取/落盘链路级故障。 (Round 14 Source 2)

### 套利玩法（本轮新增/修正）
- 在“连续第 6 轮空源”条件下，玩法层从“冻结更新”升级为“停摆处置”：继续禁止新增或修正跨平台对冲、YES+NO 合成、负风险组合、事件篮子配平等任何可执行细节，直到出现至少 1 对可读 `src-*.txt/.url` 证据。 (Round 14 Source 3)
- 本轮允许的唯一玩法相关动作是维护“证据状态标签”（如 `E0`），不允许写入任何触发阈值、失效阈值或执行步骤，避免把假增量混入实盘知识。 (Round 14 Source 4)

### 交易策略（本轮新增/修正）
- 策略层新增“发布闸门升级”：若连续空源轮次 >= 5（当前已达 6），学习输出仅可包含故障定位与修复任务，不得产生新的参数版本候选（含最小价差、最小深度、滑点上限、撤单窗口、重试上限）。 (Round 14 Source 5)
- 新增“来源格式一致性检查”：当任务要求消费 `src-*.txt/.url`，而目录实际仅生成 `search-*.json + urls.txt` 且为空时，应判定为“抓取契约失配”，先修抓取契约再谈策略迭代。 (Round 14 Source 6)

### 风控（本轮新增/修正）
- 将“连续 6 轮空源”上升为研究级红色事件：暂停所有基于学习轮次的参数更新提案，只保留稳定参数运行与数据链路排障，避免因证据真空导致策略漂移。 (Round 14 Source 1)
- 新增风控流程要求：每轮入库前必须记录“文件清单 + 字节数 + 配对状态”；若任一项为 0 或缺失，自动拒绝进入知识参数更新阶段。 (Round 14 Source 2)

### 常见坑（本轮新增/修正）
- 常见坑修正 1：把“已创建目录/文件”误当成“来源可用”；0 字节文件只能证明流程跑过，不能证明抓到内容。 (Round 14 Source 3)
- 常见坑修正 2：任务声明消费 `src-*`，但实际输出长期为 `search-*` 空文件，如果不做格式对齐校验，会持续制造伪进展。 (Round 14 Source 4)
- 常见坑修正 3：在连续空源期间继续讨论具体交易参数，会放大“看似专业、实则无证据”的认知风险。 (Round 14 Source 5)

### 合规与道德边界（提醒风险，不给非法指导）
- 本轮继续仅提供合法合规的风险提醒与流程修复建议，不提供任何规避监管、规避平台规则、规避地区限制或规避 KYC 的操作思路。 (Round 14 Source 6)
- 在证据缺失情形下，默认不输出可执行套利操作步骤，以降低被误用为违规交易指引的风险。 (Round 14 Source 1)

## Round 15 增量沉淀（第 7 个连续空源轮次：进入“仅排障、禁策略迭代”状态）
- 本轮指定来源目录 `memory/learn/polymarket_/sources/round-15/` 未出现任何 `src-*.txt` 与 `src-*.url` 文件，仅存在 `search-1.json` 至 `search-5.json` 与 `urls.txt`，且文件大小均为 0 字节；因此本轮没有可引用正文证据，不能新增任何基于市场内容的套利认知。 (Round 15 Source 1)
- 相比 Round 14，本轮不是偶发异常，而是“连续第 7 轮空源”，说明当前学习链路的问题已从单轮抓取失败升级为系统性证据供给中断；本轮增量只能是流程、风控与合规边界修正。 (Round 15 Source 2)

### 套利玩法（本轮新增/修正）
- 玩法层状态从“冻结更新”进一步明确为“仅保留旧版本，不允许试探性补写”：在无 `src-*.txt/.url` 证据时，禁止新增或修正跨平台对冲、YES+NO 合成、负风险组合、事件篮子配平等任何可执行玩法细节。 (Round 15 Source 3)
- 本轮可执行动作仅限“证据状态维护与排障记录”，不允许输出触发阈值、失效阈值、成交顺序或头寸分配建议，防止把无证据推断误写成可实盘执行的玩法。 (Round 15 Source 1)

### 交易策略（本轮新增/修正）
- 策略层新增硬约束：连续空源达到 7 轮后，学习输出只能包含“故障定位、抓取修复、证据链校验”，不得产出任何新参数候选或参数微调建议（最小价差、盘口深度、滑点上限、撤单窗口、重试次数等）。 (Round 15 Source 2)
- 新增“来源契约一致性”检查要求：任务声明要求消费 `src-*.txt/.url`，而目录长期仅出现空 `search-*.json + urls.txt`，应先判定为输入输出契约失配，再进入抓取器/解析器修复流程，不得跳过契约核对直接写策略。 (Round 15 Source 4)

### 风控（本轮新增/修正）
- 将“连续 7 轮空源”升级为研究风控最高优先事件：暂停一切基于学习轮次的参数发布与策略升级，仅允许继续沿用已验证稳定参数，直到恢复可审计来源。 (Round 15 Source 2)
- 本轮补充风控执行顺序：先做“文件存在性 + 非零字节 + `txt/url` 成对 + URL 可追溯”四项校验，再决定是否允许进入知识写入；任一失败即终止当轮策略增量。 (Round 15 Source 5)

### 常见坑（本轮新增/修正）
- 常见坑修正 1：把“目录里有文件”误判为“本轮有来源”；本轮再次证明仅有空 `search-*` 并不满足学习输入要求。 (Round 15 Source 1)
- 常见坑修正 2：连续空源时仍讨论更细参数，会制造“细节越多越像真”的伪确定性，反而提高实盘误用风险。 (Round 15 Source 2)
- 常见坑修正 3：不区分“研究排障输出”和“交易策略输出”，会把故障期文本混入正式策略版本，导致回测基线污染。 (Round 15 Source 5)

### 合规与道德边界（提醒风险，不给非法指导）
- 本轮继续只提供合法合规的风险提醒与流程修复建议，不提供任何规避监管、绕过平台规则、绕过地区限制、规避 KYC 的操作路径。 (Round 15 Source 6)
- 在证据链中断状态下，默认拒绝输出可执行套利步骤，以降低被误用为违规交易指导的风险；恢复输出的前提是来源可验证且可追溯。 (Round 15 Source 6)
